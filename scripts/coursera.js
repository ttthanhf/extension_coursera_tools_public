"use strict";!function(e,t,n){function l(e){return new Promise(t=>setTimeout(t,e))}async function i(){let n="._1lutnh9y",r=".cif-2x.cif-fw.cif-play",a=".rc-PlayToggle",o=".rc-ReadingCompleteButton .cds-button-disableElevation";try{e.storage.local.get("isSkVdQt",function(e){e.isSkVdQt&&t.querySelector(n)&&("Skip"==t.querySelector(n).innerText||"Continue"==t.querySelector(n).innerText)&&t.querySelector(n).click()}),e.storage.local.get("isPlVd",function(e){e.isPlVd&&t.querySelector(r)&&"Play"==t.querySelector(a).getAttribute("aria-label")&&t.querySelector(r).click()}),e.storage.local.get("isSkRd",function(e){e.isSkRd&&t.querySelector(o)&&t.querySelector(o).click()})}catch(e){}await l(20),await i()}i(),function(){e.runtime.onMessage.addListener(function(l,i,r){"getQuiz"==l.name&&!function(){let l="lesson-name headline-1-text color-primary-text highlighted",i="rc-FormPartsQuestion__numberCell",r=["digital-literacy","problem-solving-skills","critical-thinking-skills","communication-skills"],a=0,o=".",c="doQuiz",s="addAnswer",u="IdExtension",m=n.location.pathname.substr(n.location.pathname.indexOf("/",1)+1,n.location.pathname.indexOf("/",7)-7),d=r.indexOf(m)+1,f=t.getElementsByClassName(l)[0].innerText.substr(0,document.getElementsByClassName(l)[0].innerText.indexOf(" "));for(a;a<t.getElementsByClassName(i).length;a++)if(""!=t.getElementsByClassName(i)[a].innerText){let n=t.getElementsByClassName(i)[a].innerText.substr(0,t.getElementsByClassName(i)[a].innerText.indexOf(o)),l=d+o+f+o+n;e.storage.local.get(u,function(t){e.runtime.sendMessage(t.IdExtension,{name:c,id:l,next:s})})}}(),"addAnswer"==l.name&&async function(){let e=".css-1mkdutb",n=" ._1e7axzp",i="cds-checkboxAndRadio-label",r="",a=await l.answer.split(". ");for(let l=0;l<a.length;l++){r=a.length>2&&a[l].length>3?a[l].slice(0,-1):a[l];for(let i=0;i<t.querySelectorAll(e).length;i++){let o=t.querySelectorAll(e)[i].innerText.trim().replace(/(\r\n|\n|\r|\n\r)/gm," ").replaceAll("’","'").replace(/(”|“)/g,'"');if(a[l].includes(o)||o.includes(r)){await t.querySelectorAll(e+n)[i].click();continue}}}try{await t.getElementsByClassName(i)[0].click()}catch(e){}}(),"showquiz"==l.name&&alert("Đói quá nên chưa có làm tiếp được ;-;"),"getLinkSubmission"==l.name&&async function(){let e="._16zhflr";if("/submit"!=n.location.href.substr(n.location.href.lastIndexOf("/")))confirm("Click here to get link")&&(n.location.href=t.querySelectorAll("[href*='"+n.location.pathname.substr(0,n.location.pathname.indexOf("/",7))+"/peer/']")[0].href+"/submit");else{const l=await n.location.href.substring(0,n.location.href.lastIndexOf("/"))+"/review/"+t.querySelector(e).id.substring(0,t.querySelector(e).id.indexOf("~"));alert(l+"\n==>  Copied to clipboard <=="),await navigator.clipboard.writeText(l)}}(),"markReview"==l.name&&function(){let e=".rc-FormParts .rc-FormPart",n=".option-input",l=0;for(l;l<t.querySelectorAll(e).length;l++)t.querySelectorAll(e)[l].querySelectorAll(n)[t.querySelectorAll(e)[l].querySelectorAll(n).length-1].click()}()})}()}(chrome,document,window);