"use_strict";!function(e,t,l){!async function l(){let n=".rc-ReadingCompleteButton .cds-button-disableElevation";try{e.storage.local.get("isSkVdQt",function(e){e.isSkVdQt&&t.querySelector("._1lutnh9y")&&("Skip"==t.querySelector("._1lutnh9y").innerText||"Continue"==t.querySelector("._1lutnh9y").innerText)&&t.querySelector("._1lutnh9y").click()}),e.storage.local.get("isPlVd",function(e){e.isPlVd&&t.querySelector(".cif-2x.cif-fw.cif-play")&&"Play"==t.querySelector(".rc-PlayToggle").getAttribute("aria-label")&&t.querySelector(".cif-2x.cif-fw.cif-play").click()}),e.storage.local.get("isSkRd",function(e){e.isSkRd&&t.querySelector(n)&&t.querySelector(n).click()})}catch(e){}var i;await(i=20,new Promise(e=>setTimeout(e,i))),await l()}(),e.runtime.onMessage.addListener(function(n,i,r){"getQuiz"==n.name&&function(){let n="lesson-name headline-1-text color-primary-text highlighted",i="rc-FormPartsQuestion__numberCell",r=0,a=l.location.pathname.substr(l.location.pathname.indexOf("/",1)+1,l.location.pathname.indexOf("/",7)-7),c=["digital-literacy","problem-solving-skills","critical-thinking-skills","communication-skills"].indexOf(a)+1,o=t.getElementsByClassName(n)[0].innerText.substr(0,document.getElementsByClassName(n)[0].innerText.indexOf(" "));for(;r<t.getElementsByClassName(i).length;r++)if(""!=t.getElementsByClassName(i)[r].innerText){let l=c+"."+o+"."+t.getElementsByClassName(i)[r].innerText.substr(0,t.getElementsByClassName(i)[r].innerText.indexOf("."));e.storage.local.get("IdExtension",function(t){e.runtime.sendMessage(t.IdExtension,{name:"doQuiz",id:l,next:"addAnswer"})})}}(),"addAnswer"==n.name&&async function(){className_1="cds-checkboxAndRadio-label",temp_answer="";let e=await n.answer.split(". ");for(let l=0;l<e.length;l++){e.length>2&&e[l].length>3?temp_answer=e[l].slice(0,-1):temp_answer=e[l];for(let n=0;n<t.querySelectorAll(".css-1mkdutb").length;n++){let i=t.querySelectorAll(".css-1mkdutb")[n].innerText.trim().replace(/(\r\n|\n|\r|\n\r)/gm," ").replaceAll("’","'").replace(/(”|“)/g,'"');(e[l].includes(i)||i.includes(temp_answer))&&await t.querySelectorAll(".css-1mkdutb ._1e7axzp")[n].click()}}try{await t.getElementsByClassName(className_1)[0].click()}catch(e){}}(),"showquiz"==n.name&&alert("Đói quá nên chưa có làm tiếp được ;-;"),"getLinkSubmission"==n.name&&async function(){if("/submit"!=l.location.href.substr(l.location.href.lastIndexOf("/")))confirm("Click here to get link")&&(l.location.href=t.querySelectorAll("[href*='"+l.location.pathname.substr(0,l.location.pathname.indexOf("/",7))+"/peer/']")[0].href+"/submit");else{const e=await l.location.href.substring(0,l.location.href.lastIndexOf("/"))+"/review/"+t.querySelector("._16zhflr").id.substring(0,t.querySelector("._16zhflr").id.indexOf("~"));alert(e+"\n==>  Copied to clipboard <=="),await navigator.clipboard.writeText(e)}}(),"markReview"==n.name&&function(){let e=".rc-FormParts .rc-FormPart",l=0;for(;l<t.querySelectorAll(e).length;l++)t.querySelectorAll(e)[l].querySelectorAll(".option-input")[t.querySelectorAll(e)[l].querySelectorAll(".option-input").length-1].click()}()})}(chrome,document,window);